{% extends "./base.html" %}

{% block title %}
    文章：{{ post.title }}
{% endblock %}

{% block main %}
    {% if post %}
        <h1>{{ post.title }}</h1>

        <div>
            <span>作者：<a href="{% url 'author' post.owner_id %}">{{ post.owner.username }}</a></span>
            <span>分类：<a href="{% url 'category-list' post.category_id %}">{{ post.category.name }}</a></span>
        </div>

        <hr/>
        <p>{{ post.content }}</p>
    {% endif %}

    <div class="comment">
        <!-- 评论区 -->
        <hr/>
        <h2>评论区</h2>
        <ul class="list-group">
            {% for comment in comment_list %}
            <li class="list-group-item">
                <div class="nickname">
                    <a href="{{ comment.website }}">{{ comment.nickname }}</a>
                    <span>{{ comment.created_time }}</span>
                </div>
                <div class="comment-content">
                    {{ comment.content }}
                </div>
            </li>
            {% endfor %}
        </ul>

        <!-- 撰写评论 -->
        <hr/>
        <h2>撰写评论</h2>
        <form id="comment_form" class="form-group" action="/comment/" method="POST">
            {% csrf_token %}
            <input name="target" type="hidden" value="{{ request.path }}"/>
            {{ comment_form }}
            <input type="submit" value="提交评论"/>
        </form>
    </div>

{% endblock %}


<!--<!DOCTYPE html>-->
<!--<html lang="zh">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>TypeIdea 博客系统 - 查看文章</title>-->
<!--</head>-->
<!--<body>-->
<!--    {% if post %}-->
<!--        <h1>{{ post.title }}</h1>-->

<!--        <div>-->
<!--            <span>分类：{{ post.category.name }}</span>-->
<!--            <span>作者：{{ post.owner.username }}</span>-->
<!--        </div>-->

<!--        <hr/>-->

<!--        <p>{{ post.content }}</p>-->
<!--    {% endif %}-->

<!--    <hr/>-->
<!--    <div>-->
<!--        分类导航：-->
<!--        {% for c in nav_categories %}-->
<!--        <a href="/category/{{ c.id }}/">{{ c.name }}</a>-->
<!--        {% endfor %}-->
<!--    </div>-->

<!--    <div>-->
<!--        侧边栏展示：-->
<!--        {% for sidebar in sidebars %}-->
<!--        <h4>{{ sidebar.title }}</h4>-->
<!--        {{ sidebar.content }}-->
<!--        {% endfor %}-->
<!--    </div>-->
<!--</body>-->
<!--</html>-->